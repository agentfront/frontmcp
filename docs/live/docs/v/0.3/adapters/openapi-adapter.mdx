---
title: OpenAPI Adapter
slug: adapters/openapi-adapter
sidebarTitle: OpenAPI
description: Generate MCP tools directly from an OpenAPI spec and call them with strong validation.
icon: puzzle-piece
---

The OpenAPI Adapter turns an OpenAPI 3.x specification into ready-to-use MCP tools. It is powered by [`mcp-from-openapi`](https://www.npmjs.com/package/mcp-from-openapi), so every generated tool ships with a request mapper, automatic parameter conflict resolution, and validated schemas.

## Why use it

- **Zero boilerplate** — convert REST APIs to MCP tools by registering a single adapter.
- **Accurate schemas** — input and output schemas are derived from the spec and compiled to Zod for runtime validation.
- **Multi-auth aware** — map different security schemes to different auth providers with `authProviderMapper` or a `securityResolver`.
- **Safe by default** — the adapter validates your security configuration, prints a risk score, and refuses to expose tools that cannot be authenticated.
- **Mapper visibility** — every tool exposes how validated inputs become path/query/header/body values, making debugging and customization easy.

## Quick start

```ts
import { App } from '@frontmcp/sdk';
import { OpenapiAdapter } from '@frontmcp/adapters';

@App({
  id: 'my-api',
  name: 'My API MCP Server',
  adapters: [
    OpenapiAdapter.init({
      name: 'backend:api',
      baseUrl: process.env.API_BASE_URL!,
      url: process.env.OPENAPI_SPEC_URL!,
    }),
  ],
})
export default class MyApiApp {}
```

```ts
import { App } from '@frontmcp/sdk';
import { OpenapiAdapter } from '@frontmcp/adapters';

@App({
  id: 'my-api',
  name: 'My API MCP Server',
  adapters: [
    OpenapiAdapter.init({
      name: 'backend:api',
      baseUrl: process.env.API_BASE_URL!,
      url: process.env.OPENAPI_SPEC_URL!,
      headersMapper: (authInfo, headers) => {
        if (authInfo.token) headers.set('authorization', `Bearer ${authInfo.token}`);
        if (authInfo.user?.tenantId) headers.set('x-tenant-id', authInfo.user.tenantId);
        return headers;
      },
    }),
  ],
})
export default class MyApiApp {}
```

## Required options

- `name` — unique identifier for the adapter (used when disambiguating tool ids).
- `baseUrl` — root URL used when the adapter builds HTTP requests.
- One of `url` (file path or remote URL) or `spec` (an `OpenAPIV3.Document`).

## Authentication strategies

The adapter can resolve authentication per tool. Pick the strategy that matches your API.

### Static headers (server-to-server)

```ts
OpenapiAdapter.init({
  name: 'billing',
  baseUrl: 'https://api.example.com',
  url: 'https://api.example.com/openapi.json',
  additionalHeaders: {
    'x-api-key': process.env.BILLING_API_KEY!,
  },
});
```

### `authProviderMapper` (recommended for multi-provider OAuth)

Map each security scheme in your spec to the correct token on `authInfo`.

```ts
OpenapiAdapter.init({
  name: 'integrations',
  baseUrl: 'https://api.example.com',
  url: 'https://api.example.com/openapi.json',
  authProviderMapper: {
    GitHubAuth: (authInfo) => authInfo.user?.githubToken,
    SlackAuth: (authInfo) => authInfo.user?.slackToken,
    ApiKeyAuth: (authInfo) => authInfo.user?.apiKey,
  },
});
```

### Custom `securityResolver`

Run arbitrary logic whenever a tool needs credentials.

```ts
OpenapiAdapter.init({
  name: 'multi-auth',
  baseUrl: 'https://api.example.com',
  url: 'https://api.example.com/openapi.json',
  securityResolver: (tool, authInfo) => {
    if (tool.name.startsWith('github_')) {
      return { jwt: authInfo.user?.githubToken };
    }
    if (tool.name.startsWith('google_')) {
      return { jwt: authInfo.user?.googleToken };
    }
    return { jwt: authInfo.token };
  },
});
```

### Include credentials in tool inputs (development only)

Set `generateOptions.includeSecurityInInput = true` to expose security fields in the tool schema. This is useful while exploring a new API but is flagged as **high risk** and should not be shipped to production.

## Load and generate options

Every `loadOptions` and `generateOptions` value is forwarded to [`mcp-from-openapi`](https://www.npmjs.com/package/mcp-from-openapi):

- `loadOptions` — control validation (`validate`), `$ref` resolution (`dereference`), custom headers, `timeout`, and `followRedirects` when fetching the spec.
- `generateOptions` — filter/rename operations (`filterFn`, `defaultInclude`, `excludeOperationIds`), set `preferredStatusCodes`, keep or drop deprecated endpoints, include multiple responses, surface examples, or customize the naming strategy.
- `includeSecurityInInput`, `includeDeprecated`, `includeAllResponses`, and `includeExamples` map directly to the generator so you decide how much of the spec becomes part of each tool.

## Understand the mapper

Each generated tool exposes a `mapper` so you can see how validated inputs become an HTTP request. Conflicting parameter names are automatically renamed.

```ts
import { OpenAPIToolGenerator } from 'mcp-from-openapi';

const generator = await OpenAPIToolGenerator.fromURL('https://api.example.com/openapi.json');
const [createExpense] = await generator.generateTools();

console.log(createExpense.mapper);
// [
//   { inputKey: 'pathId', type: 'path', key: 'id' },
//   { inputKey: 'bodyId', type: 'body', key: 'id' },
//   ...
// ]
```

Use the mapper to plug in custom logging, redaction, or request mutation logic via `headersMapper` and `bodyMapper`.

## Validation & logging

During `fetch()` the adapter validates your security configuration against the spec and prints:

- A **risk score** (`low`, `medium`, `high`) so you can catch unsafe configurations early.
- Warnings for missing `authProviderMapper` entries or when credentials would flow through tool inputs.
- A fatal error when a required security scheme cannot be satisfied (the adapter refuses to expose tools until it is fixed).

Resolve these warnings before exposing the adapter publicly.

## Tips

- Combine adapters with plugins (cache, logging, authorization) for consistent cross-cutting behavior.
- Attach multiple OpenAPI adapters to one app; just set a unique `name` value for each instance.
- Use `inputSchemaMapper` or `bodyMapper` to hide secrets from the tool interface while still injecting them into requests.
- Keep `includeSecurityInInput` disabled in production so credentials never transit through the client.

## Links

- Demo app: `apps/demo/src/apps/expenses/index.ts`
- Spec used by the demo: https://frontmcp-test.proxy.beeceptor.com/openapi.json
- Generator library: https://www.npmjs.com/package/mcp-from-openapi
- Source code: `libs/adapters/src/openapi`
